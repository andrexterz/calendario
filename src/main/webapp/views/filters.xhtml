<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:form>

        <div class="menuLeftHeader">
            <a href="javascript:toggleMenu('#menuLeft');" class="menuButton menuLeftBackButton" />
            <a href="javascript:toggleMenu('#menuLeft');" class="menuButton menuLeftOkButton" />
            <h:outputText class="menuLeftTitle" value="#{msg.filter}" />
        </div>
        <div class="scrollBar">
            <span />
            <span />
        </div>

        <div class="filterContent">
            <p:panel header="#{msg.search}" toggleable="true">
                <p:inputText id="search"  styleClass="search" />
                <p:watermark for="search" value="#{msg.search}" />
            </p:panel>
            <p:panel header="#{msg.period}" toggleable="true">
                <div class="dateSelected">
                    <h:outputLabel for="dataInicio" value="#{msg.startDate}:" />
                    <h:outputText id="dataInicioText" value="#{calendarioBean.dataInicio}">
                        <f:convertDateTime pattern="dd/MM/yyyy" />
                    </h:outputText>
                </div>
                <p:calendar id="dataInicio"
                            mode="inline"
                            pattern="dd/MM/yyyy"
                            value="#{calendarioBean.dataInicio}">
                    <p:ajax event="dateSelect" listener="#{calendarioBean.checkDate}" update="dataInicioText dataTerminoText dataTermino" />
                </p:calendar>

                <div class="dateSelected">
                    <h:outputLabel for="dataTermino" value="#{msg.endDate}:" />
                    <h:outputText id="dataTerminoText" value="#{calendarioBean.dataTermino}">
                        <f:convertDateTime pattern="dd/MM/yyyy" />
                    </h:outputText>
                </div>            
                <p:calendar id="dataTermino"
                            mode="inline"
                            pattern="dd/MM/yyyy"
                            mindate="#{calendarioBean.dataInicio}"
                            value="#{calendarioBean.dataTermino}">
                    <p:ajax event="dateSelect" update="dataTerminoText" />
                </p:calendar>
            </p:panel>
            <p:panel header="#{msg.meses}" toggleable="true">
                <p:dataTable id="filtroMes" styleClass="filtroMes" value="#{calendarioBean.meses}" var="mes" rowKey="#{mes.value}" rows="12" selectionMode="single" selection="#{calendarioBean.mes}">
                    <p:ajax event="rowSelect" update="filtroMes" />
                    <p:column>#{mes}</p:column>
                </p:dataTable>
            </p:panel>
        </div>
    </h:form>
</ui:composition>

